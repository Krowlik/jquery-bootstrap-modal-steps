!function(a){a.fn.modalSteps=function(b){var c=this,d=a.extend({btnCancelHtml:"Cancel",btnPreviousHtml:"Previous",btnNextHtml:"Next",btnLastStepHtml:"Complete",disableNextButton:!1,completeCallback:function(){}},b);c.on("show.bs.modal",function(){var b,e,f,g,h,i=c.find(".modal-footer"),j=i.find(".js-btn-step[data-orientation=cancel]"),k=i.find(".js-btn-step[data-orientation=previous]"),l=i.find(".js-btn-step[data-orientation=next]");j.html(d.btnCancelHtml),k.html(d.btnPreviousHtml),l.html(d.btnNextHtml),e=a("<input>").attr({type:"hidden",id:"actual-step",value:"1"}),c.find("#actual-step").remove(),c.append(e),d.disableNextButton&&l.attr("disabled","disabled"),k.attr("disabled","disabled"),b=1,h=b+1,c.find("[data-step="+b+"]").removeClass("hide"),l.attr("data-step",h),f=c.find("[data-step="+b+"]").data("title"),g=a("<span>").addClass("label label-success").html(b),c.find(".js-title-step").append(g).append(" "+f)}).on("hidden.bs.modal",function(){var a=c.find("#actual-step"),b=c.find(".js-btn-step[data-orientation=next]");c.find("[data-step]").not(c.find(".js-btn-step")).addClass("hide"),a.not(c.find(".js-btn-step")).remove(),b.attr("data-step",1).html(d.btnNextHtml),c.find(".js-title-step").html("")}),c.find(".js-btn-step").on("click",function(){var b,e,f,g,h=a(this),i=c.find("#actual-step"),j=c.find(".js-btn-step[data-orientation=previous]"),k=c.find(".js-btn-step[data-orientation=next]"),l=c.find(".js-title-step"),m=h.data("orientation"),n=parseInt(i.val());if(b=c.find("div[data-step]").length,"complete"===h.attr("data-step"))return d.completeCallback(),void c.modal("hide");if("next"===m)e=n+1,j.attr("data-step",n),i.val(e);else{if("previous"!==m)return void c.modal("hide");e=n-1,k.attr("data-step",n),j.attr("data-step",e-1),i.val(n-1)}parseInt(i.val())===b?k.attr("data-step","complete").html(d.btnLastStepHtml):k.attr("data-step",e).html(d.btnNextHtml),d.disableNextButton&&k.attr("disabled","disabled"),c.find("[data-step="+n+"]").not(c.find(".js-btn-step")).addClass("hide"),c.find("[data-step="+e+"]").not(c.find(".js-btn-step")).removeClass("hide"),parseInt(j.attr("data-step"))>0?j.removeAttr("disabled"):j.attr("disabled","disabled"),"previous"===m&&k.removeAttr("disabled"),f=c.find("[data-step="+e+"]"),f.attr("data-unlock-continue")&&k.removeAttr("disabled"),g=f.attr("data-title");var o=a("<span>").addClass("label label-success").html(e);l.html(o).append(" "+g)})}}(jQuery);