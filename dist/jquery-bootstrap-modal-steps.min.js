!function(a){a.fn.modalSteps=function(b){var c=this,d=a.extend({btnCancelHtml:"Cancel",btnPreviousHtml:"Previous",btnNextHtml:"Next",btnLastStepHtml:"Complete",disableNextButton:!1,completeCallback:function(){},callbacks:{}},b),e=function(){var a=d.callbacks["*"];if(void 0!==a&&"function"!=typeof a)throw"everyStepCallback is not a function! I need a function";if("function"!=typeof d.completeCallback)throw"completeCallback is not a function! I need a function";for(var b in d.callbacks)if(d.callbacks.hasOwnProperty(b)){var c=d.callbacks[b];if("*"!==b&&void 0!==c&&"function"!=typeof c)throw"Step "+b+" callback must be a function"}};return c.on("show.bs.modal",function(){var b,f,g,h,i,j=c.find(".modal-footer"),k=j.find(".js-btn-step[data-orientation=cancel]"),l=j.find(".js-btn-step[data-orientation=previous]"),m=j.find(".js-btn-step[data-orientation=next]"),n=d.callbacks[1];e(),void 0!==n&&"function"!=typeof n&&n(),k.html(d.btnCancelHtml),l.html(d.btnPreviousHtml),m.html(d.btnNextHtml),f=a("<input>").attr({type:"hidden",id:"actual-step",value:"1"}),c.find("#actual-step").remove(),c.append(f),d.disableNextButton&&m.attr("disabled","disabled"),l.attr("disabled","disabled"),b=1,i=b+1,c.find("[data-step="+b+"]").removeClass("hide"),m.attr("data-step",i),g=c.find("[data-step="+b+"]").data("title"),h=a("<span>").addClass("label label-success").html(b),c.find(".js-title-step").append(h).append(" "+g)}).on("hidden.bs.modal",function(){var a=c.find("#actual-step"),b=c.find(".js-btn-step[data-orientation=next]");c.find("[data-step]").not(c.find(".js-btn-step")).addClass("hide"),a.not(c.find(".js-btn-step")).remove(),b.attr("data-step",1).html(d.btnNextHtml),c.find(".js-title-step").html("")}),c.find(".js-btn-step").on("click",function(){var b,e,f,g,h=a(this),i=c.find("#actual-step"),j=c.find(".js-btn-step[data-orientation=previous]"),k=c.find(".js-btn-step[data-orientation=next]"),l=c.find(".js-title-step"),m=h.data("orientation"),n=parseInt(i.val()),o=d.callbacks["*"];if(b=c.find("div[data-step]").length,void 0!==o&&o(),"complete"===h.attr("data-step"))return d.completeCallback(),void c.modal("hide");if("next"===m)e=n+1,j.attr("data-step",n),i.val(e);else{if("previous"!==m)return void c.modal("hide");e=n-1,k.attr("data-step",n),j.attr("data-step",e-1),i.val(n-1)}parseInt(i.val())===b?k.attr("data-step","complete").html(d.btnLastStepHtml):k.attr("data-step",e).html(d.btnNextHtml),d.disableNextButton&&k.attr("disabled","disabled"),c.find("[data-step="+n+"]").not(c.find(".js-btn-step")).addClass("hide"),c.find("[data-step="+e+"]").not(c.find(".js-btn-step")).removeClass("hide"),parseInt(j.attr("data-step"))>0?j.removeAttr("disabled"):j.attr("disabled","disabled"),"previous"===m&&k.removeAttr("disabled"),f=c.find("[data-step="+e+"]"),f.attr("data-unlock-continue")&&k.removeAttr("disabled"),g=f.attr("data-title");var p=a("<span>").addClass("label label-success").html(e);l.html(p).append(" "+g);var q=d.callbacks[i.val()];void 0!==q&&q()}),this}}(jQuery);